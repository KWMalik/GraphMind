<?xml version="1.0" encoding="utf-8"?>
<mx:Canvas xmlns:mx="http://www.adobe.com/2006/mxml"
  label="Relationships"
  icon="@Embed(source='../../assets/images/chart_organisation.png')"
  width="100%" height="100%"
  horizontalScrollPolicy="off"
  verticalScrollPolicy="off">
  <mx:Script>
    <![CDATA[
      import com.graphmind.TreeMapViewController;
      import plugins.Relationship;
      
    ]]>
  </mx:Script>
  
  <mx:VBox top="10" bottom="10" left="10" right="10">
    
    <!-- Depth settings -->
    <mx:Label text="Depth of relationships" />
    <mx:TextInput text="{Relationship.depth}" keyUp="{Relationship.depth = parseInt(relationship_depth_textfield.text);}" id="relationship_depth_textfield"/> 
      
    <mx:HRule height="32" width="100%"/>
    
    <mx:Text text="Regenerate relationships" />
    <mx:Button label="Refresh tree" click="{Relationship.refreshSubtree(TreeMapViewController.rootNode);}"/>
      
    <mx:HRule height="32" width="100%"/>
    
    <mx:Text text="Checks updates on the backend" />
    <mx:Button label="Check update" click="{Relationship.checkForChanges();}" />
      
    <mx:HRule height="32" width="100%"/>
    
    <mx:Label text="Update check frequency (seconds)" />
    <mx:ComboBox dataProvider="{Relationship.frequencies}" change="{Relationship.setUpdateCheckFrequency(frequency.selectedIndex);}" id="frequency"/>
    
  </mx:VBox>
  
  
</mx:Canvas>
